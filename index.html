<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SkillPath</title>

  <!-- Preload background if present -->
  <link rel="preload" as="image" href="skill%20new.jpg">

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #0f172a, #1e293b);
      color: #f9fafb;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      transition: all 0.5s ease-in-out;
      position: relative;
    }

    body.login-bg {
      background-image: url("skill%20new.jpg");
      background-repeat: no-repeat;
      background-position: center center;
      background-size: cover;
      background-blend-mode: overlay;
      background-attachment: fixed;
    }

    .card {
      background: #1f2937;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.4);
      width: 350px;
      text-align: center;
    }

    #loginPage {
      position: absolute;
      right: 48px;
      left: auto;
      top: 50%;
      transform: translateY(-50%);
      width: 360px;
    }

    #skillsPage {
      position: relative;
      margin: 0 auto;
    }

    body.login-bg .card {
      background: rgba(0,0,0,0.55);
      box-shadow: 0 8px 30px rgba(0,0,0,0.6);
      backdrop-filter: blur(6px) saturate(110%);
      -webkit-backdrop-filter: blur(6px) saturate(110%);
      border: 1px solid rgba(255,255,255,0.04);
    }

    h1, h2 {
      margin-bottom: 15px;
      text-shadow: 0 2px 8px rgba(0,0,0,0.6);
    }

    input, select {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border-radius: 8px;
      border: 1px solid #374151;
      background: rgba(17,24,39,0.85);
      color: #f9fafb;
      outline: none;
    }
    input::placeholder { color: rgba(249,250,251,0.7); }

    button {
      width: 100%;
      padding: 12px;
      margin: 8px 0;
      border: none;
      border-radius: 8px;
      background: #2563eb;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
    }
    button:hover { background: #1d4ed8; }

    .link {
      margin-top: 10px;
      display: block;
      color: #60a5fa;
      cursor: pointer;
    }
    .hidden { display: none; }
    .info { margin-top: 20px; text-align: left; }
    .info img { width: 60px; margin-bottom: 10px; }
    ul { padding-left: 20px; }
    .small { font-size: 0.9rem; color: #cbd5e1; }
    .error { color: #ffb4b4; margin-top: 6px; }
    .success { color: #b6f6c1; margin-top: 6px; }
    .badge {
      display:inline-block;
      padding:6px 10px;
      border-radius:999px;
      background:#374151;
      color:#cbd5e1;
      font-size:0.85rem;
      margin-left:8px;
    }

    .skill-roadmap {
      width: 100%;
      max-width: 900px;
      height: auto;
      margin-top: 12px;
      border-radius: 8px;
      box-shadow: 0 6px 30px rgba(0,0,0,0.45);
      display:block;
    }

    @media (max-width:900px) {
      #loginPage {
        position: relative;
        right: auto;
        left: auto;
        top: auto;
        transform: none;
        width: 92%;
        margin: 16px auto;
      }
      #skillsPage { margin: 16px auto; }
      .skill-roadmap { max-width: 100%; }
    }

    @media (max-width:420px) {
      .card { width: 92%; padding: 20px; }
    }
  </style>
</head>
<body>

  <!-- Login / Signup Section -->
  <div id="loginPage" class="card">
    <h2>Welcome-SkillPath</h2>

    <input type="text" id="usernameOrEmail" placeholder="Username or Email">
    <input type="password" id="password" placeholder="Password">

    <button id="loginBtn">Login</button>
    <button id="showSignupBtn">Sign Up</button>
    <button id="skipBtn">Skip Login</button>

    <span class="link" onclick="toggleSignup()">Don‚Äôt have an account? Sign up</span>

    <!-- Signup form (hidden by default) -->
    <div id="signupArea" class="hidden" style="margin-top:12px; text-align:left;">
      <h3 style="margin:8px 0 6px 0;">Create account</h3>
      <input type="text" id="su_username" placeholder="Choose a username (no spaces)">
      <input type="email" id="su_email" placeholder="Email (used to login securely)">
      <input type="password" id="su_password" placeholder="Password (min 6 chars)">
      <button id="createAccountBtn">Create Account</button>
      <div id="signupMsg" class="small"></div>
    </div>

    <div id="loginMsg" class="error"></div>
  </div>

  <!-- Skills Section -->
  <div id="skillsPage" class="card hidden" style="max-width:900px;">
    <h1>Choose Your Skill</h1>
    <div style="text-align:left; margin-bottom:10px;">
      <strong id="welcomeUser">Hello</strong>
      <span id="userType" class="small" style="display:block;"></span>
      <span id="tempBadge" class="badge hidden">Temporary account ‚Äî finalize signup</span>
    </div>

    <select id="skillSelect" onchange="showSkill()">
      <option value="">-- Select a Skill --</option>
      <option value="cpp">üíª C++</option>
      <option value="html">üåê HTML</option>
      <option value="python">üêç Python</option>
      <option value="java">‚òï Java</option>
      <option value="php">üêò PHP</option>
      <option value="r">üìä R</option>
    </select>
    <div class="info" id="skillInfo"></div>
    <button onclick="backToLogin()">‚¨Ö Back</button>
  </div>

  <!-- Firebase SDKs (compat) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-functions-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "PASTE_YOUR_API_KEY",
      authDomain: "YOUR_PROJECT.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
    };

    const FIREBASE_CONFIG_SET = firebaseConfig && firebaseConfig.apiKey && !firebaseConfig.apiKey.includes('PASTE_YOUR');
    let auth = null, db = null, functions = null;
    if (FIREBASE_CONFIG_SET) {
      firebase.initializeApp(firebaseConfig);
      auth = firebase.auth();
      db = firebase.firestore();
      functions = firebase.functions();
      firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)
        .catch(err => console.warn('Failed to set persistence:', err));
    }

    const skillData = {
      cpp: {
        title: "C++ Programming",
        description: "Role in CS: C++ powers operating systems, game engines, and high-performance applications.",
        benefits: [
          "High performance and efficiency",
          "Supports object-oriented programming (OOP)",
          "Rich Standard Template Library (STL)",
          "Widely used in system-level programming",
          "Great for competitive programming and problem-solving"
        ],
        img: "https://isocpp.org/assets/images/cpp_logo.png"
      },
      html: {
        title: "HTML",
        description: "Role in CS: HTML is the backbone of web development, structuring content for the internet.",
        benefits: [
          "Easy to learn and implement",
          "Forms the foundation of every website",
          "Works with CSS and JavaScript for full web apps",
          "Cross-platform compatibility",
          "Supported by all browsers and devices"
        ],
        img: "https://upload.wikimedia.org/wikipedia/commons/6/61/HTML5_logo_and_wordmark.svg"
      },
      python: {
        title: "Python",
        description: "Role in CS: Python is vital for AI, data science, and rapid application development.",
        benefits: [
          "Readable and beginner-friendly syntax",
          "Huge standard library and community support",
          "Excellent for AI, ML, and data science",
          "Cross-platform and versatile",
          "Strong integration with modern frameworks"
        ],
        img: "https://upload.wikimedia.org/wikipedia/commons/c/c3/Python-logo-notext.svg"
      },
      java: {
        title: "Java",
        description: "Role in CS: Java is central to enterprise systems, Android apps, and large-scale software.",
        benefits: [
          "Platform-independent with JVM",
          "Robust and secure programming model",
          "Massive ecosystem and libraries",
          "Strong OOP principles",
          "Backbone of Android development"
        ],
        img: "https://upload.wikimedia.org/wikipedia/en/3/30/Java_programming_language_logo.svg"
      },
      php: {
        title: "PHP",
        description: "Role in CS: PHP drives server-side scripting and dynamic web applications.",
        benefits: [
          "Great for backend web development",
          "Easy integration with databases",
          "Open source with large community",
          "Fast deployment for web apps",
          "Powering platforms like WordPress and Facebook"
        ],
        img: "https://upload.wikimedia.org/wikipedia/commons/2/27/PHP-logo.svg"
      },
      r: {
        title: "R Programming",
        description: "Role in CS: R is crucial for statistical analysis, machine learning, and data visualization.",
        benefits: [
          "Advanced statistical computing capabilities",
          "Rich data visualization tools",
          "Strong in academia and research",
          "Integrates with big data frameworks",
          "Large set of packages for analytics"
        ],
        img: "https://upload.wikimedia.org/wikipedia/commons/1/1b/R_logo.svg"
      }
    };

    function showSkill() {
      const val = document.getElementById("skillSelect").value;
      const box = document.getElementById("skillInfo");
      if (!val) { box.innerHTML = ""; return; }
      const data = skillData[val];
      let html = `
        <img src="${data.img}" alt="${data.title}" style="width:60px; display:inline-block; vertical-align:middle;">
        <h2 style="display:inline-block; margin-left:10px; vertical-align:middle;">${data.title}</h2>
        <p style="margin-top:10px;">${data.description}</p>
        <h3>Benefits:</h3>
        <ul>${data.benefits.map(b => `<li>${b}</li>`).join("")}</ul>
      `;
      html += `<h3 style="margin-top:14px;">ROAD MAP - ${data.title}</h3>`;
      html += `<div id="roadmapArea"></div>`;
      box.innerHTML = html;

      if (val === 'cpp') {
        const area = document.getElementById('roadmapArea');
        const note = document.createElement('div');
        note.className = 'small';
        note.style.marginTop = '8px';
        note.textContent = 'Roadmap content coming soon.';
        area.appendChild(note);
      }
    }

    function goToSkills() {
      document.getElementById("loginPage").classList.add("hidden");
      document.getElementById("skillsPage").classList.remove("hidden");
      document.body.classList.remove('login-bg');
    }

    function backToLogin() {
      document.getElementById("skillsPage").classList.add("hidden");
      document.getElementById("loginPage").classList.remove("hidden");
      document.getElementById("loginMsg").textContent = "";
      document.body.classList.add('login-bg');
    }

    const loginBtn = document.getElementById('loginBtn');
    const skipBtn = document.getElementById('skipBtn');
    const showSignupBtn = document.getElementById('showSignupBtn');
    function toggleSignup() { document.getElementById('signupArea').classList.toggle('hidden'); }
    showSignupBtn.addEventListener('click', toggleSignup);

    function handleSkip() {
      sessionStorage.setItem('isGuest', 'true');
      sessionStorage.setItem('username', 'Guest');
      document.getElementById('welcomeUser').textContent = 'Hello, Guest';
      goToSkills();
    }
    skipBtn.addEventListener('click', handleSkip);

    window.addEventListener('load', () => {
      document.body.classList.add('login-bg');
    });
  </script>
</body>
</html>
